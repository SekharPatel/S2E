{% extends "base.html" %}

{% block title %}Home - My Scans{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% macro project_row(project) %}
<div class="project-row">
    <div class="project-cell project-name">{{ project.name }}</div>
    <div class="project-cell project-status"><span class="status-badge status-{{ project.status|lower }}">{{ project.status }}</span></div>
    <div class="project-cell project-last-scan">{{ project.last_scan_time }}</div>
    <div class="project-cell project-actions">
        <button class="quick-run-btn" title="Run Default Playbook">â–¶</button>
        <button class="delete-btn" title="Delete Project">ðŸ—‘</button>
    </div>
</div>
{% endmacro %}

{% block content %}
<div class="main-pane-header">
    <div class="filters">
        <!-- Add filter controls here -->
    </div>
    <div class="search-sort">
        <input type="search" placeholder="Search projects..." />
        <select>
            <option>Sort by Name</option>
            <option>Sort by Status</option>
            <option>Sort by Last Scan</option>
        </select>
    </div>
</div>

<div class="project-grid-header">
    <div>Project Name</div>
    <div>Status</div>
    <div>Last Scan</div>
    <div>Quick Run</div>
</div>

<div class="project-grid">
    {% for project in projects %}
        {{ project_row(project) }}
    {% else %}
        <p>No projects found.</p>
    {% endfor %}
</div>

<button class="fab new-project-fab">+</button>

<div class="slide-over-panel">
    <div class="slide-over-header">
        <h2>New Project</h2>
        <button class="close-slide-over">Ã—</button>
    </div>
    <div class="slide-over-content">
        <!-- New project form goes here -->
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}